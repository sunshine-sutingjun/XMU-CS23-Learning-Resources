(self.webpackChunklms=self.webpackChunklms||[]).push([[73085],{273085:function(e,t,r){var o=r(496486),n=r(383228),i=r(261139);r(788674),r(132023),r(864765),r(454747);var c=r(887757);function a(e,t,r,o,n,i,c){try{var a=e[i](c),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(o,n)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function c(e){a(i,o,n,c,s,"next",e)}function s(e){a(i,o,n,c,s,"throw",e)}c(void 0)}))}}function l(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r(535666);var d=r(693604),p=r(180736),f=r(208006).getCcLicenseMap;e.exports=["$rootScope","$scope","$timeout","fileSelectModel","uploadService","filesApi","toastr","blobstorage","$window","resourceGroupApi",function(e,t,a,u,v,y,h,m,g,w){var C=p(t),b=[];t.showGroupResource=!e.inGroupResource&&!window.inProjectPage,u.usePublicResourceScope=t.usePublicResourceScope,window.inProjectPage&&(u.allowSelectFolder=!0),t.ccLicenseMapping={},t.linkForm={name:"",url:"",as_video_link:!0,parent_id:0};var S={OnlineVideo:"video,audio",Material:"video,audio,image,document,swf,file",Interaction:"video",Homework:"video,audio,image,document,swf,file",online_video:"video,audio",interaction:"video",material:"video,audio,image,document,swf,file",homework:"video,audio,image,document,swf,file"};t.loadComponents=()=>{Promise.all([r.e(62831),r.e(77768),r.e(31342),r.e(54174),r.e(6809),r.e(64674)]).then(r.bind(r,637459))},t.createLink=()=>y.createLink(t.linkForm).success((e=>{t.changeTab("repository"),t.changeFileType("link"),u.selectedIds=[e.id],t.linkForm.url="",t.linkForm.name=""})).error((e=>{t.errors=e.errors}));var _=function(e){t.vtrses=e},k=function(){var e,t=l(b);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(1!==u.pagination.currentPage)break;r.progress<99&&("all"===u.fileType||u.identifyFileType(r)===u.fileType)&&u.pagination.currentList.push(r)}}catch(e){t.e(e)}finally{t.f()}return C.hide()},T=function(){return u.filterFileTypes=S[e.activityType],u.courseCode=e.courseCode};t.changeFileType=function(e){return C.show(!0),T(),u.changeFileType(e,k)},t.changeVtrs=function(e){return C.show(!0),T(),u.changeVtrs(e,k)},t.changePage=function(e){return C.show(!0),T(),u.changePage(e,k)},t.search=function(){return C.show(!0),T(),u.search(k)},t.deleteUploadingUpload=function(e){return u.removeUpload(e),o.remove(b,(t=>t.id===e.id)),o.remove(u.selectedUploads,(t=>t.id===e.id)),v.deleteUploadingUpload(e)};var F=function(){if(u.limitTypes.length>0){var e,t=[],r=l(u.limitTypes);try{var o=function(){var r=e.value;t=u.fileExts&&u.fileExts.length?t.concat(u.fileExts.filter((e=>{var t;return null===(t=u.supportFormat[r])||void 0===t?void 0:t.includes(e)}))):t.concat(u.supportFormat[r])};for(r.s();!(e=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return t}return d.getSupportedFormats()};t.openClient=function(){m.getOpenClientURL().then((function(e){if(e)return g.open(e)}))},t.isShowLarkSpace=()=>{var r,o=null===(r=e.activityType)||void 0===r?void 0:r.toLowerCase(),n="material"===o||"homework"===o&&!t.isInstructorView;return Boolean(u.showLarkSpace&&!u.limitTypes.includes("image")&&!u.limitTypes.includes("audio")&&n)},t.isShowWeDriveSpace=()=>{var t;return"material"===(null===(t=e.activityType)||void 0===t?void 0:t.toLowerCase())},t.onFileSelect=function(){var r=s(c.mark((function r(n,i){var a,s,l,p,f,y,m,g,w,C,S,_;return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=d.checkFileNameValidation(n),(s=a[0]).length!==n.length&&h.error(t.$t("fileUpload.nameError",[a[1]])),0!==(n=s).length){r.next=6;break}return r.abrupt("return");case 6:if(t.error=!1,l=F(),p=[],t.isFileExtensionCheckEnable?(p=v.filterByFileFormat(n,l)).length!==n.length&&(h.error(t.uploadFileFormatLimitErrorMessage),t.error=!0):p=v.filterByFileFormat(n),(f=v.filterByFileSize(p,i)).length!==p.length&&(t.error||((y=v.filterByFileSizeZero(p)).length>0&&1==p.length?h.error(t.uploadZeroSizeFileErrorMessage):y.length>0&&p.length>1?h.error("".concat(t.uploadSizeLimitErrorMessage,", ").concat(t.uploadZeroSizeFileErrorMessage)):h.error(t.uploadSizeLimitErrorMessage)),t.error=!0),0!==f.length){r.next=14;break}return r.abrupt("return");case 14:return m=function(t){return t.selectable=!0,u.singleSelect?u.singleSelectedUpload=t:(t.selected=!0,o.find(u.selectedUploads,(e=>e.id===t.id&&e.isThirdPartResource===t.isThirdPartResource))||u.selectedUploads.push(t)),window.st.track("personal_resource","upload",{},{upload_id:t.id,file_name:t.name,upload_type:e.fileTypeByExtension(t)}),e.$broadcast("fileUploadSuccess",t),e.$broadcast("refreshStorageBar")},g=function(e){if(e.message)return h.error(e.message)},w="scorm"===u.fileType,C="wmpkg"===u.fileType,S=["evercam"].includes(u.fileType)?u.fileType:"",v.updateConfig(null,w,C,S,u.parentId),v.bindCallback(m,g),u.tab="repository",r.next=24,R();case 24:return _=v.uploadFiles(f),u.addUploads(_),b=b.concat(_),r.abrupt("return",u.mode="list");case 28:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),t.$on("addFolder",(function(e,r){uploadFolder.type="folder",uploadFolder.is_folder=!0,uploadFolder.is_upload_folder=!0,t.model.pagination.currentList.unshift(r),b=b.concat(r)})),t.$on("addUploads",(function(e,t){u.addUploads(t),b=b.concat(t)}));var R=function(){var r=s(c.mark((function r(){return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("JLU"===t.deliveryOrg&&void 0!==e.course){r.next=2;break}return r.abrupt("return");case 2:return u.path=[],r.next=5,v.getUserCourseResourceFolder(e.course.id);case 5:courseFolder=r.sent,u.changePath(courseFolder,k),v.config.parentId=courseFolder.id;case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),P=function(e){return u.limitTypes="all"===e.fileType?[]:[e.fileType],u.singleSelect=e.singleSelect,u.filters=e.filters,u.searching=!1,e.includeSlides&&(u.context.includeSlides=e.includeSlides),u.keyword=""};t.save=function(r){u.copySelectedThirdPartResources((function(r){var c,a,s,l;return c=r,a=o.each(i.copy(c),(function(e){delete e.audit_status})),s=e.fileSelectScopeId?"filesSelected"+e.fileSelectScopeId:"filesSelected",l=new CustomEvent("filesSelected",{detail:a}),window.dispatchEvent(l),e.$broadcast(s,a),function(e){e.forEach((e=>{e.sizeStr=t.humanizeBytes(e.size)}));var r={originalFiles:e,files:o.map(e,(e=>({id:e.id,created_at:e.created_at,name:e.name,key:e.key,sizeStr:e.sizeStr})))};return n("#file-select, #scorm-file-select").trigger("filesSelected",r)}(r)})),u.clearSelected(),t.closePopup(r)},e.$on("reset-file-select",(()=>u.clearSelected())),g.addEventListener("vtrsResourceChecked",(e=>{if(u.singleSelect){var r=e.detail[0];u.singleSelectedUpload={id:r.upload.id,is_from_vtrs:!0,type:r.upload.type,selectable:!0,name:r.name,size:r.upload.size,origin_allow_download:r.allowDownload,cc_license_name:r.ccLicenseName,link:r.upload.link}}else u.selectedUploads=e.detail.map((e=>({id:e.upload.id,is_from_vtrs:!0,type:e.upload.type,selectable:!0,name:e.name,size:e.upload.size,origin_allow_download:e.allowDownload,cc_license_name:e.ccLicenseName,link:e.upload.link})));t.$apply()})),t.changeTab=function(r){if(u.tab=r,e.showUploadOptions=!1,"local"!==r)return t.changeFileType(u.fileType)},t.isOnlyLimitedFileType=e=>o.isEqual(u.limitTypes,[e]),t.isAllowedFileType=function(e){return"academic_learning_platform"!==u.tab&&(("third_part_resource"!==u.tab||!["slide","video-quiz","subject-lib","open-office","lesson-resource"].includes(e))&&("virtual_classroom"===u.tab?["all","image","video","audio","document"].includes(e):"slide"===e?u.context.includeSlides:"subject-lib"===e?u.context.includeSubjectLibs:"video-quiz"===e?u.context.includeVideoQuizzes:"lesson-resource"===e?u.context.includeLessonResources:!("all"!==e||!u.context.lesson_resource_only)||(0===u.limitTypes.length||("all"===e?u.limitTypes.length>1:u.limitTypes.includes(e)))))},t.isVtrsTab=function(){return"vtrs_resource"===u.tab},t.selectedCount=function(){var e=o.countBy(u.selectedUploads,{type:"folder"});return[e[!0]||0,e[!1]||0]};var z=function(){return t.error&&delete t.error,u.clearSelected()};n(document).on("close.fndtn.reveal","#file-select",(()=>{z(),u.context={}}));var L=()=>u.pagination.currentList.filter((e=>!e.failed&&e.selectable&&(e.id||"LARK"===e.source&&e.view_url)));t.checkAllSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.pagination.currentList;if(0===e.length)return!1;var t=L();return 0===t.length?(u.canSelectAll=!1,u.isSelectAll=!1):(u.canSelectAll=!0,u.isSelectAll=o.every(t,{selected:!0}),u.isSelectAll)},t.switchAll=function(){var e=L();return(()=>{var r,o=[],n=l(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.selected!=u.isSelectAll&&(i.selected=u.isSelectAll,o.push(t.toggleUploadClick(i)))}}catch(e){n.e(e)}finally{n.f()}return o})()},t.enterFolder=function(e){if(e.is_folder)return C.show(!0),u.changePath(e,k),z()},t.toggleUploadClick=function(e){return"material"===u.tab||u.singleSelect?u.singleSelectedUpload=e:e.selected?(u.selectedUploads.includes(e)||u.selectedUploads.push(e),t.selectedItems.push(e.id)):"SHTVU"===e.source?o.remove(u.selectedUploads,{url:e.url}):"LARK"===e.source?o.remove(u.selectedUploads,{token:e.token,source:"LARK"}):(o.remove(t.selectedItems,(function(t){return t===e.id})),o.remove(u.selectedUploads,{id:e.id,isThirdPartResource:e.isThirdPartResource}))},t.$on("materialFileSelected",((e,r)=>{t.toggleUploadClick(r),t.$apply()})),t.gotoPrev=function(){return u.path.length>=2?(C.show(!0),u.path.pop(),u.changePath(u.path.pop(),k)):u.context.lesson_resource_only?t.changeFileType("lesson-resource"):t.changeFileType("all")},t.folderUploadEnabled=function(e,t){var r=".".concat(d.getSupportedFormats().join(",."));return!e&&t===r};var U=function(){return n("#file-select, #scorm-file-select").on("limitFileType",(function(e,r){return P({fileType:r,singleSelect:"scorm"===r,filters:[]}),a((()=>t.$apply()))})),n("#file-select, #scorm-file-select").on("preCheckFiles",((e,r)=>t.preCheckFiles=r))};t.$watch("twOrg",(()=>t.hasReadIPR=!t.twOrg)),t.readIPR=()=>t.hasReadIPR=!0,t.closePopup=e=>{d.closePopup(e||"file-select")};var x,A=()=>n(document).on("closed.fndtn.reveal","#file-select, #scorm-file-select",(function(e){if(!["upload_hint_popup","upload-failed-popup","folders-upload-confirmation-popup","upload-not-support-popup"].includes(e.target.id))return P({fileType:"all",singleSelect:!1,filters:[],includeSlides:!1}),u.resetPagination()}));t.selectedItems=[],t.model=u,S.hasOwnProperty(e.activityType)&&(t.model.showAcademicLearningPlatformTab=!0),t.preCheckFiles=null,t.humanizeBytes=v.humanizeBytes,t.isUploading=()=>v.isUploading(),t.hasReadIPR=!0,u.isSelectAll=!1,u.canSelectAll=!0,U(),A(),t.fileSelectScopeIds.push(t.$id),w.getVtrses({},!1,"id,name",_),t.$watch("model.pagination.currentList",(function(e){if((t.preCheckFiles||t.selectedItems)&&e.length>0)return o.each(e,(function(e){return e.selected=t.preCheckFiles&&t.preCheckFiles.includes(e.id)||t.selectedItems&&t.selectedItems.includes(e.id),!0})),t.preCheckFiles=null})),t.ui&&"other"===t.ui.videoType?(u.tab="other_video_resources",u.singleSelect=!0):e.$broadcast("refreshStorageBar"),null!==(x=window.featureToggles)&&void 0!==x&&x.ccLicenseSetting&&f().then((e=>{t.ccLicenseMapping=e})),t.changeFileType(u.getDefaultFileType()),t.showPublicResource=u.showPublicResource}]},944268:function(e,t,r){"use strict";r.d(t,{DE:function(){return l},ck:function(){return s}});var o,n=r(413447),i=r(247251),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},s=function(){function e(){}return a([(0,n.C)()],e.prototype,"name",void 0),a([(0,n.C)()],e.prototype,"id",void 0),e}(),l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selected=!1,t}c(t,e),a([(0,n.C)()],t.prototype,"selected",void 0)}(s),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),a([(0,n.C)(),(0,i.w)((function(e){return e.value||"--"}))],t.prototype,"description",void 0),t}(s))},208006:function(e,t,r){"use strict";r.r(t),r.d(t,{createClassification:function(){return S},createFolder:function(){return F},createVtrsResources:function(){return d},deleteClassification:function(){return b},deleteVtrsResources:function(){return v},getCcLicenseMap:function(){return w},getVtrsResourceCategoryStructure:function(){return R},getVtrsResources:function(){return m},getVtrsResourcesClassification:function(){return _},getVtrsResourcesStat:function(){return f},getVtrsResourcesSummary:function(){return p},getVtrsesShareResources:function(){return g},moveVtrsResources:function(){return P},resourceOperationPreCheck:function(){return z},saveVtrsResources:function(){return h},trackVtrsResource:function(){return C},updateVtrsResource:function(){return L},updateVtrsResources:function(){return y},updateVtrsResourcesClassification:function(){return k},updateVtrsResourcesClassificationSort:function(){return T}});r(141817),r(66992),r(319601),r(788674),r(454747),r(333948);var o=r(409669),n=r.n(o),i=r(356264),c=r(920976),a=r(561692),s=function(){return(s=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function c(e){try{s(o.next(e))}catch(e){i(e)}}function a(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,a)}s((o=o.apply(e,t||[])).next())}))},u=function(e,t){var r,o,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,o=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(n=c.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){c.label=a[1];break}if(6===a[0]&&c.label<n[1]){c.label=n[1],n=a;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(a);break}n[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},d=function(e,t,r,o,c){return l(void 0,void 0,void 0,(function(){return u(this,(function(a){return[2,n().post("/api/vtrses/".concat(e,"/resources"),{uploads:t,resources:(0,i.decamelizeKeys)(r),parent_folder_id:o,classification_id:c})]}))}))},p=function(e){return l(void 0,void 0,void 0,(function(){var t,r;return u(this,(function(o){switch(o.label){case 0:return[4,n().get("/api/vtrses/".concat(e,"/resources/summary"))];case 1:return t=o.sent(),(r=(0,c.d8)(a.gA,(0,i.camelizeKeys)(s({},t.data)))).all=t.data.materials+t.data.exercise_libs,[2,r]}}))}))},f=function(e,t){return void 0===t&&(t=null),l(void 0,void 0,void 0,(function(){var r,o,l;return u(this,(function(u){switch(u.label){case 0:return r=(0,i.decamelizeKeys)({dateRange:t}),[4,n().get("/api/stat/vtrses/".concat(e,"/resources"),{params:r})];case 1:return o=u.sent(),(l=(0,c.d8)(a.Tt,(0,i.camelizeKeys)(s({},o.data)),{excludeExtraneousValues:!0})).other=0,Object.keys(o.data).forEach((function(e){["video","audio","image","document","link","subject_lib"].includes(e)||(l.other+=o.data[e])})),[2,l]}}))}))},v=function(e,t){return l(void 0,void 0,void 0,(function(){return u(this,(function(r){return[2,n().delete("/api/vtrses/".concat(e,"/resources"),{data:(0,i.decamelizeKeys)({uploadReferenceIds:t})})]}))}))},y=function(e,t){return l(void 0,void 0,void 0,(function(){return u(this,(function(r){return[2,n().put("/api/vtrses/".concat(e,"/resources"),(0,i.decamelizeKeys)({uploadReferences:t}))]}))}))},h=function(e,t){return l(void 0,void 0,void 0,(function(){return u(this,(function(r){return[2,n().post("/api/vtrses/".concat(e,"/save-resources"),(0,i.decamelizeKeys)({uploadReferenceIds:t}))]}))}))},m=function(e,t,r,o,s,d){return void 0===s&&(s=1),void 0===d&&(d=10),l(void 0,void 0,void 0,(function(){var l,p,f,v;return u(this,(function(u){switch(u.label){case 0:return l=(0,i.decamelizeKeys)({parentFolderId:t,classificationId:r,page:s,pageSize:d,conditions:o}),[4,n().get("/api/vtrses/".concat(e,"/resources"),{params:l})];case 1:return p=u.sent(),f=(0,i.camelizeKeys)(p.data.items),v=(0,c.d8)(a.RT,f),[2,{page:p.data.page,pageSize:p.data.page_size,pages:p.data.pages,total:p.data.total,items:v}]}}))}))},g=function(e,t,r,o,s){return void 0===r&&(r=1),void 0===o&&(o=10),l(void 0,void 0,void 0,(function(){var l,d,p,f;return u(this,(function(u){switch(u.label){case 0:return l=(0,i.decamelizeKeys)({refParentType:e,page:r,pageSize:o,conditions:t}),[4,n().get("/api/vtrses/share-resources",{params:l,cancelToken:s.token})];case 1:return d=u.sent(),p=(0,i.camelizeKeys)(d.data.items),f=(0,c.d8)(a.RT,p),[2,{page:d.data.page,pageSize:d.data.page_size,pages:d.data.pages,total:d.data.total,items:f}]}}))}))},w=function(){return l(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,n().get("/api/cc-license/map")];case 1:return[2,e.sent().data]}}))}))},C=function(e,t,r,o){window.statistics.trackVtrsResource({action:t,vtrs:o,resourceId:r.id,resourceType:e,resourceName:r.name||r.title,resourceCreatedAt:r.createdAt})},b=function(e){return l(void 0,void 0,void 0,(function(){return u(this,(function(t){return[2,n().delete("/api/vtrses/resources/classifications/".concat(e))]}))}))},S=function(e,t){return l(void 0,void 0,void 0,(function(){var r,o;return u(this,(function(s){switch(s.label){case 0:return[4,n().post("/api/vtrses/".concat(e,"/resources/classifications"),t)];case 1:return r=s.sent(),o=(0,i.camelizeKeys)(r.data.classification),[2,(0,c.d8)(a.P7,o)]}}))}))},_=function(e){return l(void 0,void 0,void 0,(function(){var t,r;return u(this,(function(o){switch(o.label){case 0:return[4,n().get("/api/vtrses/".concat(e,"/resources/classifications"))];case 1:return t=o.sent(),r=(0,i.camelizeKeys)(t.data.classifications),[2,(0,c.d8)(a.P7,r)]}}))}))},k=function(e,t){return l(void 0,void 0,void 0,(function(){return u(this,(function(r){return[2,n().put("/api/vtrses/resources/classifications/".concat(e),t)]}))}))},T=function(e,t){return l(void 0,void 0,void 0,(function(){return u(this,(function(r){return[2,n().put("/api/vtrses/".concat(e,"/resources/classifications/sort"),{classifications:t})]}))}))},F=function(e,t,r,o){return l(void 0,void 0,void 0,(function(){return u(this,(function(i){return[2,n().post("/api/vtrses/".concat(e,"/resources/folder"),{name:r,parent_folder_id:t,classification_id:o})]}))}))},R=function(e,t){return l(void 0,void 0,void 0,(function(){var r,o;return u(this,(function(s){switch(s.label){case 0:return[4,n().get("/api/vtrses/".concat(e,"/resources/category/").concat(t,"/structure"))];case 1:return r=s.sent(),o=(0,i.camelizeKeys)(r.data.classifications),[2,(0,c.d8)(a.ZH,o)]}}))}))},P=function(e,t,r,o){return l(void 0,void 0,void 0,(function(){return u(this,(function(i){return[2,n().put("/api/vtrses/".concat(e,"/resources/move"),{upload_reference_ids:t,parent_folder_id:r,classification_id:o})]}))}))},z=function(e,t,r){return l(void 0,void 0,void 0,(function(){return u(this,(function(o){return[2,n().get("/api/vtrses/resources/classifications/".concat(e,"/resource-operation-pre-check?upload_reference_ids=").concat(t,"&operation_type=").concat(r))]}))}))},L=function(e,t,r){return l(void 0,void 0,void 0,(function(){return u(this,(function(o){return[2,n().put("/api/vtrses/".concat(e,"/resource/").concat(t),{name:r})]}))}))}},561692:function(e,t,r){"use strict";r.d(t,{P7:function(){return v},RT:function(){return f},Tt:function(){return p},ZH:function(){return y},gA:function(){return d}});r(702707);var o,n=r(413447),i=r(247251),c=r(526617),a=r(48496),s=r(944268),l=function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};!function(e){e.courseware="courseware",e.teachingCase="teaching_case",e.teachingVideo="teaching_video"}(o||(o={}));var u=function(){function e(){}return l([(0,n.C)()],e.prototype,"id",void 0),l([(0,n.C)()],e.prototype,"name",void 0),l([(0,n.C)()],e.prototype,"size",void 0),l([(0,n.C)()],e.prototype,"type",void 0),l([(0,n.C)()],e.prototype,"status",void 0),l([(0,n.C)()],e.prototype,"allowDownload",void 0),l([(0,n.C)()],e.prototype,"audio",void 0),l([(0,n.C)(),(0,i.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"createdAt",void 0),l([(0,n.C)()],e.prototype,"isCcVideo",void 0),l([(0,n.C)()],e.prototype,"link",void 0),l([(0,n.C)()],e.prototype,"originAllowDownload",void 0),l([(0,n.C)()],e.prototype,"ownerId",void 0),l([(0,n.C)()],e.prototype,"referenceId",void 0),l([(0,n.C)(),(0,i.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"referencedAt",void 0),l([(0,n.C)()],e.prototype,"createdById",void 0),e}(),d=function(){function e(){this.all=0,this.materials=0,this.exerciseLibs=0}return l([(0,n.C)()],e.prototype,"all",void 0),l([(0,n.C)()],e.prototype,"materials",void 0),l([(0,n.C)()],e.prototype,"exerciseLibs",void 0),e}(),p=function(){function e(){this.subjectLib=0,this.video=0,this.audio=0,this.image=0,this.document=0,this.link=0,this.other=0}return l([(0,n.C)()],e.prototype,"subjectLib",void 0),l([(0,n.C)()],e.prototype,"video",void 0),l([(0,n.C)()],e.prototype,"audio",void 0),l([(0,n.C)()],e.prototype,"image",void 0),l([(0,n.C)()],e.prototype,"document",void 0),l([(0,n.C)()],e.prototype,"link",void 0),l([(0,n.C)()],e.prototype,"other",void 0),e}(),f=function(){function e(){this.vtrsName="",this.vtrsCode="",this.ccLicenseName=""}return l([(0,n.C)()],e.prototype,"id",void 0),l([(0,n.C)()],e.prototype,"name",void 0),l([(0,n.C)()],e.prototype,"createdById",void 0),l([(0,n.C)(),(0,c.D)((function(){return u}))],e.prototype,"upload",void 0),l([(0,n.C)()],e.prototype,"allowDownload",void 0),l([(0,n.C)()],e.prototype,"vtrsName",void 0),l([(0,n.C)()],e.prototype,"vtrsCode",void 0),l([(0,n.C)(),(0,i.w)((function(e){return e.obj.allowSave}))],e.prototype,"allowCopy",void 0),l([(0,n.C)(),(0,c.D)((function(){return s.ck}))],e.prototype,"createdBy",void 0),l([(0,n.C)()],e.prototype,"ccLicenseName",void 0),l([(0,n.C)(),(0,i.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"createdAt",void 0),e}(),v=(function(){function e(){this.ccLicenseName=""}l([(0,n.C)()],e.prototype,"id",void 0),l([(0,n.C)()],e.prototype,"name",void 0),l([(0,n.C)()],e.prototype,"allowCopy",void 0),l([(0,n.C)()],e.prototype,"allowDownload",void 0),l([(0,n.C)()],e.prototype,"ccLicenseName",void 0)}(),function(){function e(){}return l([(0,n.C)()],e.prototype,"category",void 0),l([(0,n.C)()],e.prototype,"deletable",void 0),l([(0,n.C)()],e.prototype,"id",void 0),l([(0,n.C)()],e.prototype,"name",void 0),l([(0,n.C)()],e.prototype,"resourceCount",void 0),l([(0,n.C)()],e.prototype,"sort",void 0),l([(0,n.C)()],e.prototype,"vtrsId",void 0),e}()),y=function(){function e(){this.sort=0,this.isFolder=!1}return l([(0,n.C)()],e.prototype,"id",void 0),l([(0,n.C)()],e.prototype,"name",void 0),l([(0,n.C)()],e.prototype,"sort",void 0),l([(0,n.C)(),(0,i.w)((function(){return!1}))],e.prototype,"expand",void 0),l([(0,n.C)()],e.prototype,"hasSubFolder",void 0),l([(0,c.D)((function(){return h}))],e.prototype,"children",void 0),e}(),h=function(){function e(){this.children=[],this.isFolder=!0}return l([(0,n.C)()],e.prototype,"id",void 0),l([(0,n.C)()],e.prototype,"name",void 0),l([(0,n.C)()],e.prototype,"classificationId",void 0),l([(0,n.C)()],e.prototype,"parentId",void 0),l([(0,n.C)(),(0,i.w)((function(){return!1}))],e.prototype,"expand",void 0),l([(0,n.C)()],e.prototype,"hasSubFolder",void 0),l([(0,c.D)((function(){return e}))],e.prototype,"children",void 0),e}()}}]);