"use strict";(self.webpackChunklms=self.webpackChunklms||[]).push([[29433],{938823:function(e,t,r){r.d(t,{Pw:function(){return s.P},nw:function(){return n.Z}});var i=r(200657),s=(r(970642),r(854517),r(998009)),n=r(816203);t.ZP=i.Z},970642:function(e,t,r){r.d(t,{Z:function(){return c}});r(66992),r(365069),r(140561),r(454747),r(333948),r(583753);var i=r(405693),s=r(577813),n=r(168864),h=r(585907);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c{constructor(e,t){if(!t)throw new Error("Node can not be empty");if(this.id=t.id||(0,n.Z)(),this.states=t.states||{},this.showChildren=!0,this.children=t.children||[],this.parent=t.parent||null,this.isBatch=t.isBatch||!1,this.isEditing=!1,this.data=d(d({},t.data||{}),{},{text:(t.data||{}).text||t.text}),this.masteryRate=t.masteryRate||null,this.masteryRank=t.masteryRank||null,this.completenessRate=t.completenessRate||null,this.completenessRank=t.completenessRank||null,!e)throw new Error("Node must have a Tree context!");this.tree=e,this.tree.options.editing&&this.states.editing&&this.startEditing()}$emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.tree.$emit("node:".concat(e),this,...r)}getPath(){if(!this.parent)return[this];for(var e=[this],t=this;null!==(t=t.parent);)e.push(t);return e}get key(){return this.id+this.text}get depth(){var e=0,t=this.parent;if(!t||!1===this.showChildren)return e;do{e++}while(t=t.parent);return e}get text(){return this.data.text}get root(){return this.parent?this.parent.root:this}set text(e){var t=this.text;t!==e&&(this.data.text=e,this.$emit("text:changed",e,t))}depthWithChildren(){var e=0;return this.recurseDown((t=>{t.depth>e&&(e=t.depth)})),e-this.depth}setData(e){return this.data=d(d({},this.data),e),this.$emit("data:changed",this.data),this.data}state(e,t){return void 0===t?this.states[e]:(this.states[e]=t,this)}recurseUp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if(t.parent)return!1!==e(t.parent)?this.recurseUp(e,t.parent):void 0}recurseDown(e,t){!0!==t&&e(this),this.hasChildren()&&(0,i.x)(this.children,e)}count(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0;return this.recurseDown((t=>{e?e(t)&&r++:r++}),t),r}refreshIndeterminateState(){if(!this.tree.options.autoCheckChildren)return this;if(this.state("indeterminate",!1),this.hasChildren()){var e=this.children.length,t=0,r=0,i=0;this.children.forEach((e=>{e.checked()&&t++,e.disabled()&&i++,e.indeterminate()&&r++})),t>0&&t===e-i?this.checked()||(this.state("checked",!0),this.tree.check(this),this.$emit("checked")):(this.checked()&&(this.state("checked",!1),this.tree.uncheck(this),this.$emit("unchecked")),this.state("indeterminate",r>0||t>0&&t<e))}this.parent&&this.parent.refreshIndeterminateState()}indeterminate(){return this.state("indeterminate")}immutable(){return this.state("immutable")}editable(){return!this.state("disabled")&&!this.immutable()&&this.state("editable")}selectable(){return!this.state("disabled")&&this.state("selectable")}selected(){return this.state("selected")}select(e){return!this.selectable()||this.selected()||(this.tree.select(this,e),this.state("selected",!0),this.$emit("selected")),this}unselect(){return this.selectable()&&this.selected()?(this.tree.unselect(this),this.state("selected",!1),this.$emit("unselected"),this):this}checked(){return this.state("checked")}check(){if(this.checked()||this.disabled())return this;if(this.indeterminate())return this.uncheck();var e=this.tree.options.checkDisabledChildren,t=this;return this.tree.options.autoCheckChildren?this.recurseDown((r=>{r.state("indeterminate",!1),r.disabled()&&!e||r.checked()||(this.tree.check(r),r.state("checked",!0),r.$emit("checked",r.id===t.id?void 0:t))})):(this.tree.check(this),this.state("checked",!0),this.$emit("checked")),this}uncheck(){if(!this.indeterminate()&&!this.checked()||this.disabled())return this;var e=this;return this.tree.options.autoCheckChildren?(this.recurseDown((t=>{t.state("indeterminate",!1),t.checked()&&(this.tree.uncheck(t),t.state("checked",!1),t.$emit("unchecked",t.id===e.id?void 0:e))})),this.parent&&this.parent.refreshIndeterminateState()):(this.tree.uncheck(this),this.state("checked",!1),this.$emit("unchecked")),this}show(){return this.visible()||(this.state("visible",!0),this.$emit("shown")),this}hide(){return this.hidden()||(this.state("visible",!1),this.$emit("hidden")),this}visible(){return this.state("visible")}hidden(){return!this.state("visible")}enable(){return this.enabled()||(this.tree.options.autoDisableChildren?this.recurseDown((e=>{e.disabled()&&(e.state("disabled",!1),e.$emit("enabled"))})):(this.state("disabled",!1),this.$emit("enabled"))),this}enabled(){return!this.state("disabled")}disable(){return this.disabled()||(this.tree.options.autoDisableChildren?this.recurseDown((e=>{e.enabled()&&(e.state("disabled",!0),e.$emit("disabled"))})):(this.state("disabled",!0),this.$emit("disabled"))),this}disabled(){return this.state("disabled")}expandTop(e){this.recurseUp((t=>{t.state("expanded",!0),!0!==e&&this.$emit("expanded",t)}))}expand(){return this.canExpand()?(this.isBatch?this.tree.loadChildren(this).then((e=>{this.state("expanded",!0),this.$emit("expanded")})):(this.state("expanded",!0),this.$emit("expanded")),this):this}canExpand(){return!!this.hasChildren()&&(this.collapsed()&&(!this.tree.autoDisableChildren||this.disabled()))}canCollapse(){return!!this.hasChildren()&&(this.expanded()&&(!this.tree.autoDisableChildren||this.disabled()))}expanded(){return this.state("expanded")}collapse(){return this.canCollapse()?(this.state("expanded",!1),this.$emit("collapsed"),this):this}collapsed(){return!this.state("expanded")}toggleExpand(){return this._toggleOpenedState()}toggleCollapse(){return this._toggleOpenedState()}_toggleOpenedState(){return this.canCollapse()?this.collapse():this.canExpand()?this.expand():void 0}isDropable(){return this.enabled()&&this.state("dropable")}isDraggable(){return this.enabled()&&this.state("draggable")&&!this.isEditing}startDragging(){return!(!this.isDraggable()||this.state("dragging"))&&((!this.isRoot()||1!==this.tree.model.length)&&(this.tree.options.store&&(this.tree.__silence=!0),this.select(),this.state("dragging",!0),this.$emit("dragging:start"),this.tree.__silence=!1,!0))}finishDragging(e,t){if(e.isDropable()||"drag-on"!==t){var r=this.tree,i=this.clone(),s=this.parent;i.id=this.id,r.__silence=!0,this.remove(),"drag-on"===t?(i.parent=e,r.append(e,i),e.expand()):"drag-below"===t?(i.parent=e.parent,r.after(e,i)):"drag-above"===t&&(i.parent=e.parent,r.before(e,i)),e.refreshIndeterminateState(),s&&s.refreshIndeterminateState(),r.__silence=!1,i.state("dragging",!1),this.state("dragging",!1),i.$emit("dragging:finish",e,t),i.state("selected")&&(r.selectedNodes.remove(this),r.selectedNodes.add(i),r.vm.$set(this.state,"selected",!1),r.vm.$set(i.state,"selected",!0)),this.tree.options.store&&this.tree.vm.$emit("LIQUOR_NOISE")}}startEditing(){if(this.disabled())return!1;this.isEditing||(this.tree._editingNode=this,this.tree.activeElement=this,this.isEditing=!0,this.$emit("editing:start"))}stopEditing(e){if(this.isEditing){this.isEditing=!1,this.tree._editingNode=null,this.tree.activeElement=null;var t=this.text;e&&!1!==e&&this.text!==e&&(this.text=e,this.data.text=e),this.state("editing",!1),this.$emit("editing:stop",t)}}index(e){return this.tree.index(this,e)}first(){return this.hasChildren()?this.children[0]:null}last(){return this.hasChildren()?this.children[this.children.length-1]:null}next(){return this.tree.nextNode(this)}prev(){return this.tree.prevNode(this)}insertAt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length;if(e)return e=this.tree.objectToNode(e),Array.isArray(e)?(e.reverse().map((e=>this.insertAt(e,t))),new h.Z(this.tree,[...e])):(e.parent=this,this.children.splice(t,0,e),e.disabled()&&e.hasChildren()&&e.recurseDown((e=>{e.state("disabled",!0)})),this.isBatch||this.$emit("added",e),e)}addChild(e){return this.insertAt(e)}append(e){return this.addChild(e)}prepend(e){return this.insertAt(e,0)}before(e){return this.tree.before(this,e)}after(e){return this.tree.after(this,e)}empty(){for(var e;e=this.children.pop();)e.remove();return this}remove(){return this.tree.removeNode(this)}removeChild(e){var t=this.find(e);return t?this.tree.removeNode(t):null}find(e,t){return this.tree.isNode(e)?e:(0,s.Z)(this.children,e,t)}focus(){this.vm&&this.vm.focus()}hasChildren(){return this.showChildren&&this.isBatch||this.children.length>0}isRoot(){return null===this.parent}clone(){return this.tree.objectToNode(this.toJSON())}toJSON(){return{id:this.id,text:this.text,data:this.data,states:this.states,children:this.children.map((e=>this.tree.objectToNode(e).toJSON()))}}}},585907:function(e,t,r){r.d(t,{Z:function(){return s}});r(66992),r(454747),r(333948);function i(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];e.forEach((e=>e[t](...i)))}class s extends Array{constructor(e){super(),this.tree=e;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.push(...r)}remove(){return i(this,"remove"),this}expand(){return i(this,"expand"),this}collapse(){return i(this,"collapse"),this}select(e){return i(this,"select",e),this}unselect(){return i(this,"unselect"),this}check(){return this.tree.options.checkbox&&i(this,"check"),this}uncheck(){return this.tree.options.checkbox&&i(this,"uncheck"),this}disable(){return i(this,"disable"),this}enable(){return i(this,"enable"),this}}},854517:function(e,t,r){r.d(t,{Z:function(){return O}});r(682772),r(66992),r(365069),r(140561),r(788674),r(132023),r(454747),r(333948);var i=r(970642),s=r(585907),n=r(577813),h=r(168864);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={selected:!1,selectable:!0,checked:!1,expanded:!1,disabled:!1,visible:!0,indeterminate:!1,matched:!1,editable:!0,dragging:!1,draggable:!0,dropable:!0};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(d({},c),e)}function u(e,t){var r=null;if(t instanceof i.Z)return t;if("string"==typeof t)r=new i.Z(e,{text:t,states:l(),id:(0,h.Z)()});else{if(Array.isArray(t))return t.map((t=>u(e,t)));(r=new i.Z(e,t)).states=l(r.states),r.id||(r.id=(0,h.Z)()),r.children.length&&(r.children=r.children.map((t=>((t=u(e,t)).parent=r,t))))}return r}var p=r(103085);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={id:"id",text:"text",children:"children",states:"states",data:"data",isBatch:"isBatch",masteryRate:"masteryRate",masteryRank:"masteryRank",completenessRate:"completenessRate",completenessRank:"completenessRank"};var b={parse(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[e]);var i=m(m({},g),r);return e.map((function e(t){var r,s,n={id:(r=t)[(s=i).id],text:r[s.text],children:r[s.children],states:r[s.states],data:r[s.data],isBatch:r[s.isBatch],masteryRate:r[s.masteryRate],masteryRank:r[s.masteryRank],completenessRate:r[s.completenessRate],completenessRank:r[s.completenessRank]};return n.children&&!Array.isArray(n.children)&&(n.children=[n.children]),n.children&&(n.children=n.children.map(e)),n})).map((e=>u(t,e)))}},x=r(405693);r(115306);function y(e){return function(e){return new Promise(((t,r)=>{var i=new XMLHttpRequest;i.open("GET",e),i.setRequestHeader("Content-Type","application/json"),i.addEventListener("load",(e=>{try{var s=JSON.parse(i.response);t(s)}catch(e){r(e)}})),i.send(null)}))}(e)}r(702707);function k(e,t){return e.text<t.text?-1:e.text>t.text?1:0}function w(e,t){return e.text<t.text?1:e.text>t.text?-1:0}var N=(e,t)=>{"string"==typeof t&&(t=function(e){switch(e.toLowerCase()){case"asc":return k;case"desc":return w}}(t)),Array.isArray(e)&&"function"==typeof t&&e.sort(t)};class O{constructor(e){this.vm=e,this.options=e.opts,this.activeElement=null,this._editingNode=null;var t=this.options.fetchData;"string"==typeof t&&(this.options.fetchData=(e=>{var t=function(e){return t=>{for(var r,i=/{([^}]+)}/,s=e;r=i.exec(s);)s=s.replace(r[0],t[r[1]]);return s}}(e);return e=>y(t(e)).catch(this.options.onFetchError)})(t))}$on(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.vm.$on(e,...r)}$once(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.vm.$once(e,...r)}$off(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.vm.$off(e,...r)}$emit(e){if(!this.__silence){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.vm.$emit(e,...r),this.options.store&&this.vm.$emit("LIQUOR_NOISE")}}_sort(e,t,r){!1!==r&&this.recurseDown(e,(e=>{e.hasChildren()&&N(e.children,t)})),N(e,t)}sortTree(e,t){this._sort(this.model,e,t)}sort(e,t,r){var i=this.find(e,!0);i&&t&&i.forEach((e=>{this._sort(e.children,t,r)}))}clearFilter(){this.recurseDown((e=>{e.state("matched",!1),e.state("visible",!0),e.state("expanded",e.__expanded),e.__expanded=void 0,e.showChildren=!0})),this.vm.matches.length=0,this.vm.$emit("tree:filtered",[],"")}filter(e){var t=e.filter,r=e.dimensions;if(!t&&0===r.length)return this.clearFilter();var i=[],s=this.options.filter.textMatcher,n=this.options.filter.dimensionMatcher,h=this.options.filter,a=h.showChildren,d=h.plainList;return this.recurseDown((e=>{e.showChildren=!0,void 0===e.__expanded&&(e.__expanded=e.state("expanded")),e.state("visible",!1),e.state("matched",!1),e.state("expanded",!0),(!t||0===r.length||s(t,e)&&n(r,e))&&(t&&!s(t,e)&&0===r.length||(t||0===r.length||n(r,e))&&i.push(e))})),i.reverse().forEach((e=>{e.state("matched",!0),e.state("visible",!0),e.showChildren=!d,e.hasChildren()&&e.recurseDown((e=>{e.state("visible",!!a)}),!0),e.recurseUp((e=>{e.state("visible",!0),e.state("expanded",!0)})),e.hasChildren()&&e.state("expanded",!1)})),this.vm.matches=i,this.vm.$emit("tree:filtered",i,e),i}selected(){return new s.Z(this,...this.selectedNodes)}checked(){return this.options.checkbox?new s.Z(this,...this.checkedNodes):null}loadChildren(e){if(e){this.$emit("tree:data:fetch",e),this.options.minFetchDelay>0&&e.vm&&(e.vm.loading=!0);var t,r=this.fetch(e).then((t=>{e.append(t),e.isBatch=!1,this.options.autoCheckChildren&&(e.checked()&&e.recurseDown((e=>{e.state("checked",!0)})),e.refreshIndeterminateState()),this.$emit("tree:data:received",e)}));return Promise.all([(t=this.options.minFetchDelay,new Promise((e=>{setTimeout(e,t)}))),r]).then((t=>(e.vm&&(e.vm.loading=!1),r)))}}fetch(e,t){var r=this.options.fetchData(e);return r.then||(r=y(r).catch(this.options.onFetchError)),!1===t?r:r.then((e=>{try{return this.parse(e,this.options.modelParse)}catch(e){throw new Error(e)}})).catch(this.options.onFetchError)}fetchInitData(){return this.fetch({id:"root",name:"root"},!1)}setModel(e){return new Promise((t=>{if(this.model=this.parse(e,this.options.modelParse),requestAnimationFrame((e=>{this.vm.model=this.model,t()})),this.selectedNodes=new p.a,this.checkedNodes=new p.a,(0,x.x)(this.model,(e=>{e.tree=this,e.selected()&&this.selectedNodes.add(e),e.checked()&&(this.checkedNodes.add(e),e.parent&&e.parent.refreshIndeterminateState()),this.options.autoDisableChildren&&e.disabled()&&e.recurseDown((e=>{e.state("disabled",!0)}))})),!this.options.multiple&&this.selectedNodes.length){var r=this.selectedNodes.top();this.selectedNodes.forEach((e=>{r!==e&&e.state("selected",!1)})),this.selectedNodes.empty().add(r)}this.options.checkOnSelect&&this.options.checkbox&&this.unselectAll()}))}recurseDown(e,t){return!t&&e&&(t=e,e=this.model),"function"!=typeof t&&new TypeError("Argument must be a function"),(0,x.x)(e,t)}select(e,t){var r=this.getNode(e);return!!r&&(this.options.multiple&&t?this.selectedNodes.add(r):(this.unselectAll(),this.selectedNodes.empty().add(r)),!0)}selectAll(){return!!this.options.multiple&&(this.selectedNodes.empty(),this.recurseDown((e=>{this.selectedNodes.add(e.select(!0))})),!0)}unselect(e){var t=this.getNode(e);return!!t&&(this.selectedNodes.remove(t),!0)}unselectAll(){for(var e;e=this.selectedNodes.pop();)e.unselect();return!0}check(e){this.checkedNodes.add(e)}uncheck(e){this.checkedNodes.remove(e)}checkAll(){this.recurseDown((e=>{this.options.autoCheckChildren&&0===e.depth&&(e.indeterminate()&&e.state("indeterminate",!1),e.check()),e.indeterminate()&&e.state("indeterminate",!1),e.check()}))}uncheckAll(){for(var e;e=this.checkedNodes.pop();)e.uncheck();return!0}expand(e){return!e.expanded()&&(e.expand(),!0)}collapse(e){return!e.collapsed()&&(e.collapse(),!0)}toggleExpand(e){return!!e.hasChildren()&&(e.toggleExpand(),!0)}toggleCollapse(e){return!!e.hasChildren()&&(e.toggleCollapse(),!0)}expandAll(){this.recurseDown((e=>{e.hasChildren()&&e.collapsed()&&e.expand()}))}collapseAll(){this.recurseDown((e=>{e.hasChildren()&&e.expanded()&&e.collapse()}))}index(e,t){var r=e.parent,i=(r=r?r.children:this.model).indexOf(e);return t?{index:i,target:r,node:r[i]}:i}nextNode(e){var t=this.index(e,!0);return t.target[t.index+1]||null}nextVisibleNode(e){if(e.hasChildren()&&e.expanded())return e.first();var t=this.nextNode(e);return!t&&e.parent?e.parent.next():t}prevNode(e){var t=this.index(e,!0);return t.target[t.index-1]||null}prevVisibleNode(e){var t=this.prevNode(e);return t?t.hasChildren()&&t.expanded()?t.last():t:e.parent}addToModel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.model.length;return e=this.objectToNode(e),this.model.splice(t,0,e),this.recurseDown(e,(e=>{e.tree=this})),this.$emit("node:added",e),e}append(e,t){var r=this.find(e);return!!r&&r.append(t)}prepend(e,t){var r=this.find(e);return!!r&&r.prepend(t)}before(e,t){e=this.find(e);var r=this.index(e,!0),i=this.objectToNode(t);return!!~r.index&&(r.target.splice(r.index,0,i),i.parent=e.parent,this.$emit("node:added",i),i)}after(e,t){e=this.find(e);var r=this.index(e,!0),i=this.objectToNode(t);return!!~r.index&&(r.target.splice(r.index+1,0,i),i.parent=e.parent,this.$emit("node:added",i),i)}addNode(e){var t=this.model.length;return e=u(e),this.model.splice(t,0,e),this.$emit("node:added",e),e}remove(e,t){return this.removeNode(this.find(e,t))}removeNode(e){if(e instanceof s.Z)return e.remove();if(!e)return!1;if(e.parent){var t=e.parent.children;~t.indexOf(e)&&t.splice(t.indexOf(e),1)}else~this.model.indexOf(e)&&this.model.splice(this.model.indexOf(e),1);e.parent&&e.parent.indeterminate()&&!e.parent.hasChildren()&&e.parent.state("indeterminate",!1),null!==this.activeElement&&e.id===this.activeElement.id&&(this.activeElement=null),e.parent=null,this.selectedNodes.remove(e),this.checkedNodes.remove(e),this.$emit("node:removed",e);var r=this.vm.matches;return r&&r.length&&r.includes(e)&&r.splice(r.indexOf(e),1),e}isNode(e){return e instanceof i.Z}find(e,t,r){if(this.isNode(e))return e;var i=(0,n.Z)(this.model,e,r);return i&&i.length?!0===t?new s.Z(this,...i):new s.Z(this,...[i[0]]):new s.Z(this)}updateData(e,t){var r=this.find(e);return r.forEach((e=>e.setData(t(e)))),r}getNodeById(e){if(null==e)return null;var t=null;return(0,x.x)(this.model,(r=>{if("".concat(r.id)==="".concat(e))return t=r,!1})),t}getNode(e){return this.isNode(e)?e:null}objectToNode(e){return u(this,e)}nodeCount(){var e=0;return this.recurseDown((t=>{t.visible()&&e++})),e}parse(e,t){t||(t=this.options.propertyNames);try{return b.parse(e,this,t)}catch(e){return[]}}}},225873:function(e,t,r){r.d(t,{Z:function(){return g}});r(66992),r(702707),r(788674),r(132023),r(333948),r(583753);var i=r(854517),s=37,n=38,h=39,a=40,d=32,o=46,c=13,l=27,u=[37,38,39,40,32];function p(e,t){var r=e.prevVisibleNode(t);if(r)return r.disabled()?p(e,r):void r.focus()}function f(e,t){var r=e.nextVisibleNode(t);if(r)return r.disabled()?f(e,r):void r.focus()}function m(e){e.vm.$el.addEventListener("keydown",(t=>{var r=t.keyCode,i=e.activeElement;if(e.isNode(i))if(i.isEditing)switch(r){case l:return i.stopEditing(!1)}else switch(u.includes(r)&&(t.preventDefault(),t.stopPropagation()),r){case s:return function(e,t){if(t.expanded())t.collapse();else{var r=t.parent;r&&r.focus()}}(0,i);case h:return function(e,t){if(t.collapsed())t.expand();else{var r=t.first();r&&r.focus()}}(0,i);case n:return p(e,i);case a:return f(e,i);case d:case c:return function(e,t){e.options.checkbox&&(t.checked()?t.uncheck():t.check())}(e,i);case o:return function(e,t){var r=e.options.deletion;r&&("function"==typeof r?!0===r(t)&&t.remove():!0===r&&t.remove())}(e,i)}}),!0)}function v(e,t){if(!1===e)throw new Error(t)}var g={watch:{data(e){this.tree&&this.tree.setModel(e)}},mounted(){var e,t=new i.Z(this);this.tree=t,this._provided.tree=t,!this.data&&this.opts.fetchData?e=t.fetchInitData():this.data&&this.data.then?(e=this.data,this.loading=!0):e=Promise.resolve(this.data),e.then((e=>{e||(e=[]),this.opts.store?this.connectStore(this.opts.store):this.tree.setModel(e),this.loading&&(this.loading=!1),this.$emit("tree:mounted",this),function(e){var t=e.opts,r=t.multiple,i=t.checkbox,s=e.tree,n=t=>{var s=e.selected();i?e.$emit("input",{selected:r?s:s[0]||null,checked:e.checked()}):e.$emit("input",r?s:s[0]||null)};n(),s.$on("node:selected",n),s.$on("node:unselected",n),i&&(s.$on("node:checked",n),s.$on("node:unchecked",n)),s.$on("node:added",((e,t)=>{var r=t||e;i&&(r.state("checked")&&!s.checkedNodes.has(r)&&s.checkedNodes.add(r),r.refreshIndeterminateState()),r.state("selected")&&!s.selectedNodes.has(r)&&s.select(r),n()})),s.$on("node:removed",(e=>{s.selectedNodes.has(e)&&s.selectedNodes.remove(e),s.checkedNodes.has(e)&&s.checkedNodes.remove(e),s._editingNode===e&&(s._editingNode=null),n()}))}(this)})),!1!==this.opts.keyboardNavigation&&m(t)},methods:{connectStore(e){var t=e.store,r=e.mutations,i=e.getter,s=e.dispatcher;v("function"==typeof i,"`getter` must be a function"),v("function"==typeof s,"`dispatcher` must be a function"),void 0!==r&&v(Array.isArray(r),"`mutations` must be an array"),t.subscribe(((e,t)=>{r?r.includes(e.type)&&this.tree.setModel(i()):this.tree.setModel(i())})),this.tree.setModel(i()),this.$on("LIQUOR_NOISE",(()=>{this.$nextTick((e=>{s(this.toJSON())}))}))},recurseDown(e){this.tree.recurseDown(e)},selected(){return this.tree.selected()},checked(){return this.tree.checked()},append(e,t){return t?this.tree.append(e,t):this.tree.addToModel(e,this.tree.model.length)},prepend(e,t){return t?this.tree.prepend(e,t):this.tree.addToModel(e,0)},addChild(e,t){return this.append(e,t)},remove(e,t){return this.tree.remove(e,t)},before(e,t){return t?this.tree.before(e,t):this.prepend(e)},after(e,t){return t?this.tree.after(e,t):this.append(e)},find(e,t){return this.tree.find(e,t)},findAll(e){return this.tree.find(e,!0)},expandAll(){return this.tree.expandAll()},updateData(e,t){return this.tree.updateData(e,t)},collapseAll(){return this.tree.collapseAll()},sortTree(e,t){return this.tree.sortTree(e,t)},sort(){return this.tree.sort(...arguments)},setModel(e){return this.tree.setModel(e)},getRootNode(){return 1===this.tree.model.length?this.tree.model[0]:this.tree.model},toJSON(){return JSON.parse(JSON.stringify(this.model))}}}},577813:function(e,t,r){r.d(t,{Z:function(){return h}});r(324603),r(339714),r(454747);function i(e){return!1==!!document?e:(i.__element||(i.__element=document.createElement("div")),i.__element.innerHTML=e,i.__element.innerText)}function s(e){return function(t){return Object.keys(e).every((r=>{if("text"===r||"id"===r){var s=e[r],n=t[r];return n=i(n),function(e){return e instanceof RegExp}(s)?s.test(n):s===n}var h=e[r];return"state"===r&&(r="states"),Object.keys(h).every((e=>t[r][e]===h[e]))}))}}function n(e){var t=[];return e.forEach((function e(r){t.push(r),r.children&&r.children.forEach(e)})),t}function h(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.length||!t)return null;if(r&&(e=n(e)),"number"==typeof t)return e[t]||null;("string"==typeof t||t instanceof RegExp)&&(t={text:t}),"function"!=typeof t&&(t=s(t));var i=e.filter(t);return i.length?i:null}},405693:function(e,t,r){function i(e,t){var r;return Array.isArray(e)?e.map((e=>i(e,t))):(!1!==(r=t(e))&&e.children&&e.children.length&&(r=i(e.children,t)),r)}r.d(t,{x:function(){return i}})},103085:function(e,t,r){r.d(t,{a:function(){return i}});r(682772),r(66992),r(140561),r(132023),r(333948);class i extends Array{empty(){return this.splice(0,this.length),this}has(e){return this.includes(e)}add(){return this.push(...arguments),this}remove(e){var t=this.indexOf(e);return-1===t||this.splice(t,1),this}removeAll(e){for(;this.includes(e);)this.remove(e);return this}top(){return this[this.length-1]}}},168864:function(e,t,r){r.d(t,{Z:function(){return s}});r(339714);function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function s(){return"".concat(i()+i(),"-").concat(i(),"-").concat(i(),"-").concat(i(),"-").concat(i()).concat(i()).concat(i())}}}]);